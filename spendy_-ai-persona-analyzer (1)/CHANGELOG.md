
# Spendy: AI 페르소나 분석기 변경 기록

이 문서는 사용자의 요청사항과 그에 따른 앱의 변경 내역을 기록합니다.

---

## 버전 1.22

### 🗣️ 사용자 요청사항
> "이미지 업로드 버튼 칸이 커지는 게 아니라 파일 업로드와 같은 크기 였다가... 내 정보로 왔다 다시 돌아와도 사라지면 안 되고... 소비 데이터 추가 / 저장하고 새로 시작 / 저장 안하고 새로 시작 총 3개로... 삭제 버튼 제대로 구동되지 않고 있어"

### ✨ 수정사항
- **상태 유지 (State Persistence)**: 탭 이동 시 분석 데이터가 초기화되지 않도록 수정했습니다.
- **UI 레이아웃 고정**: 파일, 이미지, 텍스트 입력 버튼의 높이를 동일하게 고정하여 레이아웃 깨짐을 방지했습니다.
- **결과 페이지 버튼 개편**: '저장 안하고 새로 시작' 버튼을 추가하고 3개의 버튼을 수평으로 배치했습니다.
- **삭제 기능 수정**: 기록 삭제 시 확인 창 중복 문제를 해결하여 정상 작동하도록 수정했습니다.

---

## 버전 1.21

### 🗣️ 사용자 요청사항
> "자꾸 dismiss all이라면서 비밀번호가 틀렸습니다.라는 경고창이 출력이 안 되네.. 이 부분 고쳐줘 꼭 필요해 이 기능은"

### ✨ 수정사항
- **커스텀 경고창 시스템 도입 (Critical UX Fix)**:
    - 브라우저의 네이티브 `alert()`가 특정 상황(사용자의 '대화 상자 차단' 체크 등)에서 무시되는 문제를 완벽하게 해결했습니다.
    - **`AlertModal` 컴포넌트 신설**: 브라우저 설정과 무관하게 **무조건 표시되는 예쁜 디자인의 자체 모달**을 구현했습니다.
    - **안정성 확보**: 더 이상 `setTimeout`과 같은 임시방편에 의존하지 않고, React 상태 관리를 통해 오류 메시지 표시를 제어합니다. 이제 로그인 실패 시 "비밀번호가 틀렸습니다" 메시지가 100% 확실하게 나타납니다.

---

## 버전 1.20

### 🗣️ 사용자 요청사항
> "로그인하기에서 백엔드와 일치하지 않을 때 자꾸 경고창이 안 나오네... 확실하게 코드로 개선하게 뜨게 해줘 코드 전체적으로 안정성과 보안성 구축성을 개선해주고"

### ✨ 수정사항
- **로그인 경고창 미표시 오류 수정**: `setTimeout`을 사용하여 로딩 상태 해제 후 경고창 표시 순서를 보장했습니다. (v1.21에서 커스텀 모달로 고도화됨)
- **네트워크 안정성 및 보안 강화**: API 타임아웃(10초) 도입, 입력값 공백 자동 제거, 서버 응답 타입 검증 로직을 추가하여 안정성을 높였습니다.

---

## 버전 1.19

### 🗣️ 사용자 요청사항
> "code.gs나 Code.gs 폴더 안에 없는 REDEME.md 파일과 같은 쓸모 없는 파일들을 제거하는 과정을 한 번 해줘 그리고 분석 결과 이후 각 카테고리에 맞는 절약 팁 2개씩을 제공해줘"

### ✨ 수정사항
- **맞춤형 절약 팁 기능 추가**: 분석 결과 페이지에 '💡 절약 꿀팁' 섹션을 추가하고 페르소나별 맞춤 팁을 제공합니다.
- **프로젝트 파일 정리**: README 및 문서 구조를 정리했습니다.

---

## 버전 1.18

### 🗣️ 사용자 요청사항
> "로그인 실패 시 명확한 메시지 출력... 이미지 미리보기 개선... 프로필 사진 업로드 기능... 버전별 README 관리"

### ✨ 수정사항
- **로그인 피드백 개선**: "닉네임이나 비밀번호가 틀렸습니다" 메시지 통일.
- **이미지 업로드 UI 개선**: 미리보기 영역 분리 및 디자인 수정.
- **프로필 사진 기능**: 내 정보 페이지에서 프로필 사진 업로드 및 로컬 저장 기능 구현.
- **문서 관리**: `docs/versions/` 폴더 구조 도입.

---

## 버전 1.17

### 🗣️ 사용자 요청사항
> "닉네임 13자 제한... 비밀번호 4~14자 및 영문/숫자 혼합... 비밀번호 확인 기능 및 문서 관리"

### ✨ 수정사항
- **회원가입 유효성 검사 강화**: 닉네임 길이 제한, 비밀번호 정책 변경 및 실시간 일치 확인 기능 구현.
- **문서 관리 체계 개선**: 버전별 요구사항 정의서 관리 시작.

---

## 버전 1.16

### 🗣️ 사용자 요청사항
> "비밀번호 제약 조건 5~15자 변경... 비밀번호 불일치 경고창"

### ✨ 수정사항
- **비밀번호 정책 업데이트**: 길이 조건 변경 및 UI 반영.
- **비밀번호 확인 기능**: 불일치 시 명확한 피드백 제공.

---

## 버전 1.15

### 🗣️ 사용자 요청사항
> "비밀번호 제약 조건 재확인 (id칸에는 5~7개... 영어와 숫자 섞어서)... 백엔드 보안 취약점 해결"

### ✨ 수정사항
- **백엔드 유효성 검사 추가**: 서버 통신 전 비밀번호 정책 강제 검증 로직 추가.
- **UI 업데이트**: 비밀번호 규칙 안내 문구 수정.

---

## 버전 1.14

### 🗣️ 사용자 요청사항
> "비밀번호 보기 기능... 네비게이션 구조 개편 (분석/내 정보)... 앱 접근성 향상"

### ✨ 수정사항
- **비밀번호 보기/숨기기**: 눈 모양 아이콘 추가.
- **네비게이션 개편**: 탭 메뉴 간소화 및 기록 기능 통합.
- **PWA 지원**: 웹앱 매니페스트 및 서비스 워커 추가.

---

## 버전 1.13

### 🗣️ 사용자 요청사항
> "닉네임 중복 방지... 비밀번호 7자 이상 영문/숫자 혼합... 실시간 붉은 글씨 경고... 비밀번호 보기... 로그인 실패 경고"

### ✨ 수정사항
- **비밀번호 정책 강화**: 7자 이상, 영문/숫자 혼합 필수.
- **실시간 피드백**: 입력 필드 하단 오류 메시지 및 비밀번호 보기 기능 구현.
- **로그인 실패 안내**: 명확한 실패 원인 메시지 제공.

---

## 버전 1.12

### 🗣️ 사용자 요청사항
> "API URL 설정 기능 추가... 동적 URL 관리"

### ✨ 수정사항
- **최초 설정 페이지**: 사용자가 직접 SheetDB URL을 입력하고 테스트할 수 있는 기능 구현.
- **동적 URL 관리**: 로컬 스토리지에 저장된 URL을 사용하여 API 통신 수행.

---

## 버전 1.11

### 🗣️ 사용자 요청사항
> "Google Apps Script (.gs) 백엔드 폐기... SheetDB 도입"

### ✨ 수정사항
- **백엔드 교체**: 불안정한 Apps Script 대신 SheetDB를 도입하여 안정성 확보.
- **인증 로직 재구축**: `fetch` API 기반으로 인증 로직 변경.

---

## 버전 1.10

### 🗣️ 사용자 요청사항
> ".gs 파일 사용하지 않는 방법... 로컬 스토리지 인증 전환"

### ✨ 수정사항
- **백엔드 제거**: 로컬 스토리지 기반 인증으로 임시 전환하여 앱 실행 불가 문제 해결.

---

## 버전 1.9

### 🗣️ 사용자 요청사항
> "Google Sheets 실시간 백엔드 재도입... 코드 구조 개선"

### ✨ 수정사항
- **백엔드 재구축**: Apps Script 재작성 및 `fetch` 통신 구현.
- **UI/UX 개선**: 로딩 UI 복원.

---

## 버전 1.8

### 🗣️ 사용자 요청사항
> "내부 오류 해결... 백엔드 제거 및 로컬 인증 전환"

### ✨ 수정사항
- **긴급 수정**: 백엔드 오류로 인한 앱 중단 문제를 해결하기 위해 로컬 인증으로 롤백.

---

## 버전 1.7

### 🗣️ 사용자 요청사항
> "An internal error occurred 해결... 백엔드 안정성 강화"

### ✨ 수정사항
- **백엔드 오류 처리**: `try...catch` 및 `LockService` 도입으로 안정성 향상.

---

## 버전 1.6

### 🗣️ 사용자 요청사항
> "통신 오류 해결... 양방향 통신 구현"

### ✨ 수정사항
- **API 응답 개선**: JSON 응답 반환 및 CORS 문제 해결.

---

## 버전 1.5

### 🗣️ 사용자 요청사항
> "Google Sheets 백엔드 도입... 비동기 처리"

### ✨ 수정사항
- **기능 구현**: Apps Script 웹 앱을 이용한 초기 백엔드 구현.

---

## 버전 1.4

### 🗣️ 사용자 요청사항
> "GitHub Actions 배포 자동화... CHANGELOG 보강"

### ✨ 수정사항
- **CI/CD**: GitHub Pages 자동 배포 워크플로우 추가.

---

## 버전 1.3

### 🗣️ 사용자 요청사항
> "메인 화면 및 인증 흐름 구현... 탭 네비게이션"

### ✨ 수정사항
- **UI 구조 변경**: 메인 -> 로그인/가입 -> 탭 화면으로 이어지는 플로우 완성.

---

## 버전 1.2

### 🗣️ 사용자 요청사항
> "코드 리팩토링... 모듈화... 버전 관리 방식 변경"

### ✨ 수정사항
- **구조 개선**: 컴포넌트 분리 및 유틸리티 함수 모듈화.

---

## 버전 1.1

### 🗣️ 사용자 요청사항
> "마크다운 버전 관리 도입"

### ✨ 수정사항
- **CHANGELOG.md**: 변경 이력 기록 시작.

---

## 버전 1.0

### 🗣️ 사용자 요청사항
> "기본 웹앱 기능 구현... 분석 및 기록"

### ✨ 수정사항
- **초기 릴리즈**: 소비 페르소나 분석 핵심 기능 구현.
