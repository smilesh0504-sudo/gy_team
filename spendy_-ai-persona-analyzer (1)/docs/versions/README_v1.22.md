
# Spendy: AI 페르소나 분석기 - 버전 1.22 요구사항 정의서

이 문서는 'Spendy' 웹 애플리케이션 버전 1.22의 기능적, 비기능적 요구사항을 정의합니다.

---

## 1. 버전 1.22 주요 변경 사항 요약

*   **분석 상태 유지 (State Persistence)**: 분석 진행 중 탭을 이동하거나 '내 정보' 페이지를 다녀와도 분석 데이터가 사라지지 않도록 개선.
*   **UI 레이아웃 고정**: 이미지 업로드 시 버튼 크기가 변형되지 않도록 파일/이미지/텍스트 입력 버튼의 크기를 동일하게 고정.
*   **결과 페이지 버튼 개편**: 분석 완료 후 '추가', '저장 후 종료', '저장 안하고 종료' 3가지 옵션을 수평 배치하여 UX 개선.
*   **기록 삭제 버그 수정**: 삭제 버튼 클릭 시 확인 창이 중복으로 뜨거나 동작하지 않는 문제 해결.

---

## 2. 상세 기능 요구사항

### 2.1. 상태 관리 (State Management)
-   **데이터 보존**:
    -   `activeTab`이 'analysis'에서 'myinfo'로 변경되더라도 `data`, `persona`, `analysis` 등 핵심 분석 상태를 초기화(`reset`)하지 않는다.
    -   사용자가 명시적으로 "새로 시작" 관련 버튼을 눌렀을 때만 상태를 초기화한다.

### 2.2. UI 레이아웃 (UI Layout)
-   **입력 버튼 크기 통일**:
    -   `FileInput`, `ImageInput`, `TextInput` 컴포넌트의 높이를 `h-40` (10rem)으로 고정한다.
    -   이미지 파일을 선택하여 미리보기가 하단에 생성되더라도, 상단의 입력 버튼 영역(`ImageInput`) 자체는 크기가 변하지 않아야 한다.
-   **텍스트 입력 디자인 변경**:
    -   다른 버튼과의 통일성을 위해 텍스트 입력 영역 디자인을 수정하여 초기 높이를 맞춘다.

### 2.3. 결과 페이지 액션 (Result Page Actions)
-   **버튼 구성**:
    -   하단 버튼 영역을 3분할(Grid) 또는 수평 Flex 레이아웃으로 변경한다.
    -   **버튼 1: 소비 데이터 추가** (기존 유지)
    -   **버튼 2: 저장하고 새로 시작** (기존 유지)
    -   **버튼 3: 저장 안하고 새로 시작** (신규 추가): 현재 분석 내용을 히스토리에 저장하지 않고 즉시 초기화하여 업로드 페이지로 이동한다.

### 2.4. 버그 수정 (Bug Fixes)
-   **삭제 기능**:
    -   `MyInfoPage`에서 삭제 버튼 클릭 시 발생하는 `confirm` 호출을 제거하고, `App.tsx`의 핸들러에서만 확인 창을 띄우도록 로직을 일원화하여 중복 팝업 문제를 해결한다.

---

## 3. 비기능 요구사항

-   **일관성**: 입력 폼의 크기와 디자인을 통일하여 시각적 안정감을 제공한다.
-   **사용성**: 분석 결과를 실수로 잃어버리지 않도록 상태 유지 기능을 강화하여 사용자의 노력을 보호한다.
